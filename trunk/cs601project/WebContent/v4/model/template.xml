<?xml version="1.0" encoding="UTF-8"?>
<phpClassTemplate xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.sahits.ch/xsd/phpClassTemplate.xsd">
  <member name="db"/>
  <members name="DB_FIELDS" initPK="0"/>
  <methods name="DB_FIELD_GETTER"/>
  <methods name="DB_FIELD_SETTER"/>
  <method name="__construct" visibility="public">
    <arg name="db"/>
    <description>Default constructor</description>
    <description>@param db the database connection</description>
    <body>
      $this->db = $db;
    </body>
  </method>
  <method name="TO_STRING" visibility="public"/>
  <method name="INIT_LOAD" visibility="public"/>
  <method name="INIT_POST" visibility="public"/>
  <method name="INIT_GET" visibility="public"/>
  <method name="loadAll" static="true" visibility="public">
    <body>
      $rows = mysql_query("select * from OBJECT_NAME", $this->db);
      $OBJECT_NAMEs = array();
      while ($row = mysql_fetch_array($rows)) {
        $d = new CLASS_NAME($this->db);
        $d->init($row);
        array_push($OBJECT_NAMEs,$d);
      }
      return $OBJECT_NAMEs;
    </body>
  </method>
  <method name="loadById" static="true" visibility="public">
    <body>
      $OBJECT_NAME = new CLASS_NAME($this->db);
      $rows = mysql_query("select * from OBJECT_NAME where PK_WHERE", $this->db);
      $OBJECT_NAME->init(mysql_fetch_array($rows));
      return $OBJECT_NAME;
    </body>
  </method>
  <method name="INSERT" visibility="public">
    <body>
      $list = array(FIELD_ARRAY);
      $sql = "insert into OBJECT_NAME values (";
      foreach ($list as $key => $value){
        if(is_string($value))
          $sql .= "'$value', ";
        else
          $sql .= "$value, ";
      }
      $sql = substr($sql, 0, -2).")";
      return $this->$db->exec($sql);
    </body>
  </method>
  <method name="UPDATE" visibility="public">
    <body>
      $list = array(FIELD_ARRAY);
      $sql = "update OBJECT_NAME set ";
      foreach ($list as $key => $value){
        if(is_string($value))
          $sql .= "$key='$value', ";
        else
          $sql .= "$key=$value, ";
      }
      $sql = substr($sql, 0, -2)." where PK_WHERE";
      return $this->$db->exec($sql);
    </body>
  </method>
  <method name="delete" visibility="public">
    <body>
      $id = $this->id;
      $sql = "delete from OBJECT_NAME where PK_WHERE";
      return $this->$db->exec($sql);
    </body>
  </method>
  <method name="deleteById" static="true" visibility="public">
    <arg name="id"/>
    <body>
      $sql = "delete from OBJECT_NAME where PK_WHERE";
      return $this->$db->exec($sql);
    </body>
  </method>
</phpClassTemplate>
